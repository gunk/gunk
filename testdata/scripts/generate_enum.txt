gunk generate .
! stdout .

exists all.pb.go
! grep '// Foo_$' all.pb.go # adding prefix to otherwise empty docs
grep '// Foo_Documented is' all.pb.go
grep '// this comment does not contain' all.pb.go

-- go.mod --
module testdata.tld/util

require (
	github.com/gunk/opt v0.0.0-20210314081614-a3a255ac0fd8
)
-- go.sum --
github.com/gunk/opt v0.0.0-20210314081614-a3a255ac0fd8 h1:PhTyXTMyebFm+ti5Wk4+Zam9D0OjVDPPlmfQicRuF8k=
github.com/gunk/opt v0.0.0-20210314081614-a3a255ac0fd8/go.mod h1:Nn3H/M7L2O6MpSAlo2bW57c8QvPiV6LHYd3nhYGYkRI=
-- .gunkconfig --
[generate]
command=protoc-gen-go
plugin_version=v1.25.0
-- echo.gunk --
package util

import "github.com/gunk/opt/enumvalues"

type Foo int

const (
	// Documented is documented.
	Documented Foo = iota
	// this comment does not contain the type name.
	BadComment
	// +gunk enumvalues.Deprecated(true)
	OnlyTag
	NoComment
)
